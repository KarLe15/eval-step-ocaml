[
  {
    "current_expression": {
      "expr": "((size ex)[@env0 ])",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          },
          "ex": {
            "corec": [],
            "expr": {
              "expr":
                "Node\n  (1, (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty)))),\n    (Node (5, (Node (6, Empty, Empty)), Empty)))",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr": "((size)[@env1 ]) ((ex)[@env0 ])",
      "envs": {
        "env0": {
          "ex": {
            "corec": [],
            "expr": {
              "expr":
                "Node\n  (1, (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty)))),\n    (Node (5, (Node (6, Empty, Empty)), Empty)))",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "SubstVar" ]
  },
  {
    "current_expression": {
      "expr":
        "((size)[@env0 ])\n  (Node\n     (1, (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty)))),\n       (Node (5, (Node (6, Empty, Empty)), Empty))))",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "SubstFun" ]
  },
  {
    "current_expression": {
      "expr":
        "((fun bt ->\n    match bt with\n    | Empty -> 0\n    | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2))[@env0 ])\n  (Node\n     (1, (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty)))),\n       (Node (5, (Node (6, Empty, Empty)), Empty))))",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(fun bt ->\n   ((match bt with\n     | Empty -> 0\n     | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2))\n   [@env0 ]))\n  (Node\n     (1, (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty)))),\n       (Node (5, (Node (6, Empty, Empty)), Empty))))",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(fun bt ->\n   match bt with\n   | Empty -> 0\n   | Node (_, bt1, bt2) -> (((1 + (size bt1)) + (size bt2))[@env0 ]))\n  (Node\n     (1, (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty)))),\n       (Node (5, (Node (6, Empty, Empty)), Empty))))",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "ApplyFunComplete" ]
  },
  {
    "current_expression": {
      "expr":
        "((match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (((1 + (size bt1)) + (size bt2))[@env0 ]))\n[@env1 ])",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "bt": {
            "corec": [],
            "expr": {
              "expr":
                "Node\n  (1, (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty)))),\n    (Node (5, (Node (6, Empty, Empty)), Empty)))",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "match ((bt)[@env1 ]) with\n| Empty -> 0\n| Node (_, bt1, bt2) -> (((1 + (size bt1)) + (size bt2))[@env0 ])",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "bt": {
            "corec": [],
            "expr": {
              "expr":
                "Node\n  (1, (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty)))),\n    (Node (5, (Node (6, Empty, Empty)), Empty)))",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "SubstVar" ]
  },
  {
    "current_expression": {
      "expr":
        "match Node\n        (1, (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty)))),\n          (Node (5, (Node (6, Empty, Empty)), Empty)))\nwith\n| Empty -> 0\n| Node (_, bt1, bt2) -> (((1 + (size bt1)) + (size bt2))[@env0 ])",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "Match" ]
  },
  {
    "current_expression": {
      "expr": "(((1 + (size bt1)) + (size bt2))[@env1 ][@env0 ])",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "bt2": {
            "corec": [],
            "expr": {
              "expr": "Node (5, (Node (6, Empty, Empty)), Empty)",
              "envs": {}
            }
          },
          "bt1": {
            "corec": [],
            "expr": {
              "expr":
                "Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty)))",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "SubstCombine" ]
  },
  {
    "current_expression": {
      "expr": "(((1 + (size bt1)) + (size bt2))[@env0 ])",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          },
          "bt2": {
            "corec": [],
            "expr": {
              "expr": "Node (5, (Node (6, Empty, Empty)), Empty)",
              "envs": {}
            }
          },
          "bt1": {
            "corec": [],
            "expr": {
              "expr":
                "Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty)))",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr": "((1 + (size bt1))[@env0 ]) + ((size bt2)[@env1 ])",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          },
          "bt1": {
            "corec": [],
            "expr": {
              "expr":
                "Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty)))",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          },
          "bt2": {
            "corec": [],
            "expr": {
              "expr": "Node (5, (Node (6, Empty, Empty)), Empty)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr": "(1 + ((size bt1)[@env0 ])) + ((size bt2)[@env1 ])",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          },
          "bt1": {
            "corec": [],
            "expr": {
              "expr":
                "Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty)))",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          },
          "bt2": {
            "corec": [],
            "expr": {
              "expr": "Node (5, (Node (6, Empty, Empty)), Empty)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 + (((size)[@env1 ]) ((bt1)[@env0 ]))) + ((size bt2)[@env2 ])",
      "envs": {
        "env0": {
          "bt1": {
            "corec": [],
            "expr": {
              "expr":
                "Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty)))",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env2": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          },
          "bt2": {
            "corec": [],
            "expr": {
              "expr": "Node (5, (Node (6, Empty, Empty)), Empty)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 + (((size)[@env1 ]) ((bt1)[@env0 ]))) + (((size)[@env3 ]) ((bt2)[@env2 ]))",
      "envs": {
        "env0": {
          "bt1": {
            "corec": [],
            "expr": {
              "expr":
                "Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty)))",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env2": {
          "bt2": {
            "corec": [],
            "expr": {
              "expr": "Node (5, (Node (6, Empty, Empty)), Empty)",
              "envs": {}
            }
          }
        },
        "env3": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "SubstVar" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  + (((size)[@env2 ]) ((bt2)[@env1 ]))",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "bt2": {
            "corec": [],
            "expr": {
              "expr": "Node (5, (Node (6, Empty, Empty)), Empty)",
              "envs": {}
            }
          }
        },
        "env2": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "SubstVar" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  + (((size)[@env1 ]) (Node (5, (Node (6, Empty, Empty)), Empty)))",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "SubstFun" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  +\n  (((fun bt ->\n       match bt with\n       | Empty -> 0\n       | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2))[@env1 ])\n     (Node (5, (Node (6, Empty, Empty)), Empty)))",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  +\n  ((fun bt ->\n      ((match bt with\n        | Empty -> 0\n        | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2))\n      [@env1 ])) (Node (5, (Node (6, Empty, Empty)), Empty)))",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  +\n  ((fun bt ->\n      match bt with\n      | Empty -> 0\n      | Node (_, bt1, bt2) -> (((1 + (size bt1)) + (size bt2))[@env1 ]))\n     (Node (5, (Node (6, Empty, Empty)), Empty)))",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "ApplyFunComplete" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  +\n  ((match bt with\n    | Empty -> 0\n    | Node (_, bt1, bt2) -> (((1 + (size bt1)) + (size bt2))[@env1 ]))\n  [@env2 ])",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env2": {
          "bt": {
            "corec": [],
            "expr": {
              "expr": "Node (5, (Node (6, Empty, Empty)), Empty)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  +\n  (match ((bt)[@env2 ]) with\n   | Empty -> 0\n   | Node (_, bt1, bt2) -> (((1 + (size bt1)) + (size bt2))[@env1 ]))",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env2": {
          "bt": {
            "corec": [],
            "expr": {
              "expr": "Node (5, (Node (6, Empty, Empty)), Empty)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "SubstVar" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  +\n  (match Node (5, (Node (6, Empty, Empty)), Empty) with\n   | Empty -> 0\n   | Node (_, bt1, bt2) -> (((1 + (size bt1)) + (size bt2))[@env1 ]))",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "Match" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  + (((1 + (size bt1)) + (size bt2))[@env2 ][@env1 ])",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env2": {
          "bt2": { "corec": [], "expr": { "expr": "Empty", "envs": {} } },
          "bt1": {
            "corec": [],
            "expr": { "expr": "Node (6, Empty, Empty)", "envs": {} }
          }
        }
      }
    },
    "step": [ "SubstCombine" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  + (((1 + (size bt1)) + (size bt2))[@env1 ])",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          },
          "bt2": { "corec": [], "expr": { "expr": "Empty", "envs": {} } },
          "bt1": {
            "corec": [],
            "expr": { "expr": "Node (6, Empty, Empty)", "envs": {} }
          }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  + (((1 + (size bt1))[@env1 ]) + ((size bt2)[@env2 ]))",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          },
          "bt1": {
            "corec": [],
            "expr": { "expr": "Node (6, Empty, Empty)", "envs": {} }
          }
        },
        "env2": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          },
          "bt2": { "corec": [], "expr": { "expr": "Empty", "envs": {} } }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  + ((1 + ((size bt1)[@env1 ])) + ((size bt2)[@env2 ]))",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          },
          "bt1": {
            "corec": [],
            "expr": { "expr": "Node (6, Empty, Empty)", "envs": {} }
          }
        },
        "env2": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          },
          "bt2": { "corec": [], "expr": { "expr": "Empty", "envs": {} } }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  + ((1 + (((size)[@env2 ]) ((bt1)[@env1 ]))) + ((size bt2)[@env3 ]))",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "bt1": {
            "corec": [],
            "expr": { "expr": "Node (6, Empty, Empty)", "envs": {} }
          }
        },
        "env2": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env3": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          },
          "bt2": { "corec": [], "expr": { "expr": "Empty", "envs": {} } }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  +\n  ((1 + (((size)[@env2 ]) ((bt1)[@env1 ]))) +\n     (((size)[@env4 ]) ((bt2)[@env3 ])))",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "bt1": {
            "corec": [],
            "expr": { "expr": "Node (6, Empty, Empty)", "envs": {} }
          }
        },
        "env2": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env3": {
          "bt2": { "corec": [], "expr": { "expr": "Empty", "envs": {} } }
        },
        "env4": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "SubstVar" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  +\n  ((1 + (((size)[@env1 ]) (Node (6, Empty, Empty)))) +\n     (((size)[@env3 ]) ((bt2)[@env2 ])))",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env2": {
          "bt2": { "corec": [], "expr": { "expr": "Empty", "envs": {} } }
        },
        "env3": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "SubstVar" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  +\n  ((1 + (((size)[@env1 ]) (Node (6, Empty, Empty)))) +\n     (((size)[@env2 ]) Empty))",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env2": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "SubstFun" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  +\n  ((1 + (((size)[@env1 ]) (Node (6, Empty, Empty)))) +\n     (((fun bt ->\n          match bt with\n          | Empty -> 0\n          | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2))[@env2 ])\n        Empty))",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env2": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  +\n  ((1 + (((size)[@env1 ]) (Node (6, Empty, Empty)))) +\n     ((fun bt ->\n         ((match bt with\n           | Empty -> 0\n           | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2))\n         [@env2 ])) Empty))",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env2": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  +\n  ((1 + (((size)[@env1 ]) (Node (6, Empty, Empty)))) +\n     ((fun bt ->\n         match bt with\n         | Empty -> 0\n         | Node (_, bt1, bt2) -> (((1 + (size bt1)) + (size bt2))[@env2 ]))\n        Empty))",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env2": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "ApplyFunComplete" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  +\n  ((1 + (((size)[@env1 ]) (Node (6, Empty, Empty)))) +\n     ((match bt with\n       | Empty -> 0\n       | Node (_, bt1, bt2) -> (((1 + (size bt1)) + (size bt2))[@env2 ]))\n     [@env3 ]))",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env2": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env3": {
          "bt": { "corec": [], "expr": { "expr": "Empty", "envs": {} } }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  +\n  ((1 + (((size)[@env1 ]) (Node (6, Empty, Empty)))) +\n     (match ((bt)[@env3 ]) with\n      | Empty -> 0\n      | Node (_, bt1, bt2) -> (((1 + (size bt1)) + (size bt2))[@env2 ])))",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env2": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env3": {
          "bt": { "corec": [], "expr": { "expr": "Empty", "envs": {} } }
        }
      }
    },
    "step": [ "SubstVar" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  +\n  ((1 + (((size)[@env1 ]) (Node (6, Empty, Empty)))) +\n     (match Empty with\n      | Empty -> 0\n      | Node (_, bt1, bt2) -> (((1 + (size bt1)) + (size bt2))[@env2 ])))",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env2": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "Match" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  + ((1 + (((size)[@env1 ]) (Node (6, Empty, Empty)))) + 0)",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "SubstFun" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  +\n  ((1 +\n      (((fun bt ->\n           match bt with\n           | Empty -> 0\n           | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2))[@env1 ])\n         (Node (6, Empty, Empty))))\n     + 0)",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  +\n  ((1 +\n      ((fun bt ->\n          ((match bt with\n            | Empty -> 0\n            | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2))\n          [@env1 ])) (Node (6, Empty, Empty))))\n     + 0)",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  +\n  ((1 +\n      ((fun bt ->\n          match bt with\n          | Empty -> 0\n          | Node (_, bt1, bt2) -> (((1 + (size bt1)) + (size bt2))[@env1 ]))\n         (Node (6, Empty, Empty))))\n     + 0)",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "ApplyFunComplete" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  +\n  ((1 +\n      ((match bt with\n        | Empty -> 0\n        | Node (_, bt1, bt2) -> (((1 + (size bt1)) + (size bt2))[@env1 ]))\n      [@env2 ]))\n     + 0)",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env2": {
          "bt": {
            "corec": [],
            "expr": { "expr": "Node (6, Empty, Empty)", "envs": {} }
          }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  +\n  ((1 +\n      (match ((bt)[@env2 ]) with\n       | Empty -> 0\n       | Node (_, bt1, bt2) -> (((1 + (size bt1)) + (size bt2))[@env1 ])))\n     + 0)",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env2": {
          "bt": {
            "corec": [],
            "expr": { "expr": "Node (6, Empty, Empty)", "envs": {} }
          }
        }
      }
    },
    "step": [ "SubstVar" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  +\n  ((1 +\n      (match Node (6, Empty, Empty) with\n       | Empty -> 0\n       | Node (_, bt1, bt2) -> (((1 + (size bt1)) + (size bt2))[@env1 ])))\n     + 0)",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "Match" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  + ((1 + (((1 + (size bt1)) + (size bt2))[@env2 ][@env1 ])) + 0)",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env2": {
          "bt2": { "corec": [], "expr": { "expr": "Empty", "envs": {} } },
          "bt1": { "corec": [], "expr": { "expr": "Empty", "envs": {} } }
        }
      }
    },
    "step": [ "SubstCombine" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  + ((1 + (((1 + (size bt1)) + (size bt2))[@env1 ])) + 0)",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          },
          "bt2": { "corec": [], "expr": { "expr": "Empty", "envs": {} } },
          "bt1": { "corec": [], "expr": { "expr": "Empty", "envs": {} } }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  + ((1 + (((1 + (size bt1))[@env1 ]) + ((size bt2)[@env2 ]))) + 0)",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          },
          "bt1": { "corec": [], "expr": { "expr": "Empty", "envs": {} } }
        },
        "env2": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          },
          "bt2": { "corec": [], "expr": { "expr": "Empty", "envs": {} } }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  + ((1 + ((1 + ((size bt1)[@env1 ])) + ((size bt2)[@env2 ]))) + 0)",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          },
          "bt1": { "corec": [], "expr": { "expr": "Empty", "envs": {} } }
        },
        "env2": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          },
          "bt2": { "corec": [], "expr": { "expr": "Empty", "envs": {} } }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  +\n  ((1 + ((1 + (((size)[@env2 ]) ((bt1)[@env1 ]))) + ((size bt2)[@env3 ]))) +\n     0)",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "bt1": { "corec": [], "expr": { "expr": "Empty", "envs": {} } }
        },
        "env2": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env3": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          },
          "bt2": { "corec": [], "expr": { "expr": "Empty", "envs": {} } }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  +\n  ((1 +\n      ((1 + (((size)[@env2 ]) ((bt1)[@env1 ]))) +\n         (((size)[@env4 ]) ((bt2)[@env3 ]))))\n     + 0)",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "bt1": { "corec": [], "expr": { "expr": "Empty", "envs": {} } }
        },
        "env2": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env3": {
          "bt2": { "corec": [], "expr": { "expr": "Empty", "envs": {} } }
        },
        "env4": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "SubstVar" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  +\n  ((1 + ((1 + (((size)[@env1 ]) Empty)) + (((size)[@env3 ]) ((bt2)[@env2 ]))))\n     + 0)",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env2": {
          "bt2": { "corec": [], "expr": { "expr": "Empty", "envs": {} } }
        },
        "env3": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "SubstVar" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  + ((1 + ((1 + (((size)[@env1 ]) Empty)) + (((size)[@env2 ]) Empty))) + 0)",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env2": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "SubstFun" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  +\n  ((1 +\n      ((1 + (((size)[@env1 ]) Empty)) +\n         (((fun bt ->\n              match bt with\n              | Empty -> 0\n              | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2))[@env2 ])\n            Empty)))\n     + 0)",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env2": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  +\n  ((1 +\n      ((1 + (((size)[@env1 ]) Empty)) +\n         ((fun bt ->\n             ((match bt with\n               | Empty -> 0\n               | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2))\n             [@env2 ])) Empty)))\n     + 0)",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env2": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  +\n  ((1 +\n      ((1 + (((size)[@env1 ]) Empty)) +\n         ((fun bt ->\n             match bt with\n             | Empty -> 0\n             | Node (_, bt1, bt2) -> (((1 + (size bt1)) + (size bt2))\n                 [@env2 ])) Empty)))\n     + 0)",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env2": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "ApplyFunComplete" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  +\n  ((1 +\n      ((1 + (((size)[@env1 ]) Empty)) +\n         ((match bt with\n           | Empty -> 0\n           | Node (_, bt1, bt2) -> (((1 + (size bt1)) + (size bt2))[@env2 ]))\n         [@env3 ])))\n     + 0)",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env2": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env3": {
          "bt": { "corec": [], "expr": { "expr": "Empty", "envs": {} } }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  +\n  ((1 +\n      ((1 + (((size)[@env1 ]) Empty)) +\n         (match ((bt)[@env3 ]) with\n          | Empty -> 0\n          | Node (_, bt1, bt2) -> (((1 + (size bt1)) + (size bt2))[@env2 ]))))\n     + 0)",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env2": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env3": {
          "bt": { "corec": [], "expr": { "expr": "Empty", "envs": {} } }
        }
      }
    },
    "step": [ "SubstVar" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  +\n  ((1 +\n      ((1 + (((size)[@env1 ]) Empty)) +\n         (match Empty with\n          | Empty -> 0\n          | Node (_, bt1, bt2) -> (((1 + (size bt1)) + (size bt2))[@env2 ]))))\n     + 0)",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env2": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "Match" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  + ((1 + ((1 + (((size)[@env1 ]) Empty)) + 0)) + 0)",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "SubstFun" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  +\n  ((1 +\n      ((1 +\n          (((fun bt ->\n               match bt with\n               | Empty -> 0\n               | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2))\n             [@env1 ]) Empty))\n         + 0))\n     + 0)",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  +\n  ((1 +\n      ((1 +\n          ((fun bt ->\n              ((match bt with\n                | Empty -> 0\n                | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2))\n              [@env1 ])) Empty))\n         + 0))\n     + 0)",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  +\n  ((1 +\n      ((1 +\n          ((fun bt ->\n              match bt with\n              | Empty -> 0\n              | Node (_, bt1, bt2) -> (((1 + (size bt1)) + (size bt2))\n                  [@env1 ])) Empty))\n         + 0))\n     + 0)",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "ApplyFunComplete" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  +\n  ((1 +\n      ((1 +\n          ((match bt with\n            | Empty -> 0\n            | Node (_, bt1, bt2) -> (((1 + (size bt1)) + (size bt2))[@env1 ]))\n          [@env2 ]))\n         + 0))\n     + 0)",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env2": {
          "bt": { "corec": [], "expr": { "expr": "Empty", "envs": {} } }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  +\n  ((1 +\n      ((1 +\n          (match ((bt)[@env2 ]) with\n           | Empty -> 0\n           | Node (_, bt1, bt2) -> (((1 + (size bt1)) + (size bt2))[@env1 ])))\n         + 0))\n     + 0)",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env2": {
          "bt": { "corec": [], "expr": { "expr": "Empty", "envs": {} } }
        }
      }
    },
    "step": [ "SubstVar" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  +\n  ((1 +\n      ((1 +\n          (match Empty with\n           | Empty -> 0\n           | Node (_, bt1, bt2) -> (((1 + (size bt1)) + (size bt2))[@env1 ])))\n         + 0))\n     + 0)",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "Match" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  + ((1 + ((1 + 0) + 0)) + 0)",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "ApplyFunRuntime" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  + ((1 + (1 + 0)) + 0)",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "ApplyFunRuntime" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  + ((1 + 1) + 0)",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "ApplyFunRuntime" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  + (2 + 0)",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "ApplyFunRuntime" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((size)[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "SubstFun" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (((fun bt ->\n        match bt with\n        | Empty -> 0\n        | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2))[@env0 ])\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   ((fun bt ->\n       ((match bt with\n         | Empty -> 0\n         | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2))\n       [@env0 ]))\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   ((fun bt ->\n       match bt with\n       | Empty -> 0\n       | Node (_, bt1, bt2) -> (((1 + (size bt1)) + (size bt2))[@env0 ]))\n      (Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))))))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "ApplyFunComplete" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   ((match bt with\n     | Empty -> 0\n     | Node (_, bt1, bt2) -> (((1 + (size bt1)) + (size bt2))[@env0 ]))\n   [@env1 ]))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "bt": {
            "corec": [],
            "expr": {
              "expr":
                "Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty)))",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (match ((bt)[@env1 ]) with\n    | Empty -> 0\n    | Node (_, bt1, bt2) -> (((1 + (size bt1)) + (size bt2))[@env0 ])))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "bt": {
            "corec": [],
            "expr": {
              "expr":
                "Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty)))",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "SubstVar" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   (match Node (2, (Node (3, Empty, Empty)), (Node (4, Empty, Empty))) with\n    | Empty -> 0\n    | Node (_, bt1, bt2) -> (((1 + (size bt1)) + (size bt2))[@env0 ])))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "Match" ]
  },
  {
    "current_expression": {
      "expr": "(1 + (((1 + (size bt1)) + (size bt2))[@env1 ][@env0 ])) + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "bt2": {
            "corec": [],
            "expr": { "expr": "Node (4, Empty, Empty)", "envs": {} }
          },
          "bt1": {
            "corec": [],
            "expr": { "expr": "Node (3, Empty, Empty)", "envs": {} }
          }
        }
      }
    },
    "step": [ "SubstCombine" ]
  },
  {
    "current_expression": {
      "expr": "(1 + (((1 + (size bt1)) + (size bt2))[@env0 ])) + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          },
          "bt2": {
            "corec": [],
            "expr": { "expr": "Node (4, Empty, Empty)", "envs": {} }
          },
          "bt1": {
            "corec": [],
            "expr": { "expr": "Node (3, Empty, Empty)", "envs": {} }
          }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr": "(1 + (((1 + (size bt1))[@env0 ]) + ((size bt2)[@env1 ]))) + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          },
          "bt1": {
            "corec": [],
            "expr": { "expr": "Node (3, Empty, Empty)", "envs": {} }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          },
          "bt2": {
            "corec": [],
            "expr": { "expr": "Node (4, Empty, Empty)", "envs": {} }
          }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr": "(1 + ((1 + ((size bt1)[@env0 ])) + ((size bt2)[@env1 ]))) + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          },
          "bt1": {
            "corec": [],
            "expr": { "expr": "Node (3, Empty, Empty)", "envs": {} }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          },
          "bt2": {
            "corec": [],
            "expr": { "expr": "Node (4, Empty, Empty)", "envs": {} }
          }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 + ((1 + (((size)[@env1 ]) ((bt1)[@env0 ]))) + ((size bt2)[@env2 ]))) + 2",
      "envs": {
        "env0": {
          "bt1": {
            "corec": [],
            "expr": { "expr": "Node (3, Empty, Empty)", "envs": {} }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env2": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          },
          "bt2": {
            "corec": [],
            "expr": { "expr": "Node (4, Empty, Empty)", "envs": {} }
          }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   ((1 + (((size)[@env1 ]) ((bt1)[@env0 ]))) +\n      (((size)[@env3 ]) ((bt2)[@env2 ]))))\n  + 2",
      "envs": {
        "env0": {
          "bt1": {
            "corec": [],
            "expr": { "expr": "Node (3, Empty, Empty)", "envs": {} }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env2": {
          "bt2": {
            "corec": [],
            "expr": { "expr": "Node (4, Empty, Empty)", "envs": {} }
          }
        },
        "env3": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "SubstVar" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   ((1 + (((size)[@env0 ]) (Node (3, Empty, Empty)))) +\n      (((size)[@env2 ]) ((bt2)[@env1 ]))))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "bt2": {
            "corec": [],
            "expr": { "expr": "Node (4, Empty, Empty)", "envs": {} }
          }
        },
        "env2": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "SubstVar" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   ((1 + (((size)[@env0 ]) (Node (3, Empty, Empty)))) +\n      (((size)[@env1 ]) (Node (4, Empty, Empty)))))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "SubstFun" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   ((1 + (((size)[@env0 ]) (Node (3, Empty, Empty)))) +\n      (((fun bt ->\n           match bt with\n           | Empty -> 0\n           | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2))[@env1 ])\n         (Node (4, Empty, Empty)))))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   ((1 + (((size)[@env0 ]) (Node (3, Empty, Empty)))) +\n      ((fun bt ->\n          ((match bt with\n            | Empty -> 0\n            | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2))\n          [@env1 ])) (Node (4, Empty, Empty)))))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   ((1 + (((size)[@env0 ]) (Node (3, Empty, Empty)))) +\n      ((fun bt ->\n          match bt with\n          | Empty -> 0\n          | Node (_, bt1, bt2) -> (((1 + (size bt1)) + (size bt2))[@env1 ]))\n         (Node (4, Empty, Empty)))))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "ApplyFunComplete" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   ((1 + (((size)[@env0 ]) (Node (3, Empty, Empty)))) +\n      ((match bt with\n        | Empty -> 0\n        | Node (_, bt1, bt2) -> (((1 + (size bt1)) + (size bt2))[@env1 ]))\n      [@env2 ])))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env2": {
          "bt": {
            "corec": [],
            "expr": { "expr": "Node (4, Empty, Empty)", "envs": {} }
          }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   ((1 + (((size)[@env0 ]) (Node (3, Empty, Empty)))) +\n      (match ((bt)[@env2 ]) with\n       | Empty -> 0\n       | Node (_, bt1, bt2) -> (((1 + (size bt1)) + (size bt2))[@env1 ]))))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env2": {
          "bt": {
            "corec": [],
            "expr": { "expr": "Node (4, Empty, Empty)", "envs": {} }
          }
        }
      }
    },
    "step": [ "SubstVar" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   ((1 + (((size)[@env0 ]) (Node (3, Empty, Empty)))) +\n      (match Node (4, Empty, Empty) with\n       | Empty -> 0\n       | Node (_, bt1, bt2) -> (((1 + (size bt1)) + (size bt2))[@env1 ]))))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "Match" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   ((1 + (((size)[@env0 ]) (Node (3, Empty, Empty)))) +\n      (((1 + (size bt1)) + (size bt2))[@env2 ][@env1 ])))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env2": {
          "bt2": { "corec": [], "expr": { "expr": "Empty", "envs": {} } },
          "bt1": { "corec": [], "expr": { "expr": "Empty", "envs": {} } }
        }
      }
    },
    "step": [ "SubstCombine" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   ((1 + (((size)[@env0 ]) (Node (3, Empty, Empty)))) +\n      (((1 + (size bt1)) + (size bt2))[@env1 ])))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          },
          "bt2": { "corec": [], "expr": { "expr": "Empty", "envs": {} } },
          "bt1": { "corec": [], "expr": { "expr": "Empty", "envs": {} } }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   ((1 + (((size)[@env0 ]) (Node (3, Empty, Empty)))) +\n      (((1 + (size bt1))[@env1 ]) + ((size bt2)[@env2 ]))))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          },
          "bt1": { "corec": [], "expr": { "expr": "Empty", "envs": {} } }
        },
        "env2": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          },
          "bt2": { "corec": [], "expr": { "expr": "Empty", "envs": {} } }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   ((1 + (((size)[@env0 ]) (Node (3, Empty, Empty)))) +\n      ((1 + ((size bt1)[@env1 ])) + ((size bt2)[@env2 ]))))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          },
          "bt1": { "corec": [], "expr": { "expr": "Empty", "envs": {} } }
        },
        "env2": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          },
          "bt2": { "corec": [], "expr": { "expr": "Empty", "envs": {} } }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   ((1 + (((size)[@env0 ]) (Node (3, Empty, Empty)))) +\n      ((1 + (((size)[@env2 ]) ((bt1)[@env1 ]))) + ((size bt2)[@env3 ]))))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "bt1": { "corec": [], "expr": { "expr": "Empty", "envs": {} } }
        },
        "env2": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env3": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          },
          "bt2": { "corec": [], "expr": { "expr": "Empty", "envs": {} } }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   ((1 + (((size)[@env0 ]) (Node (3, Empty, Empty)))) +\n      ((1 + (((size)[@env2 ]) ((bt1)[@env1 ]))) +\n         (((size)[@env4 ]) ((bt2)[@env3 ])))))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "bt1": { "corec": [], "expr": { "expr": "Empty", "envs": {} } }
        },
        "env2": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env3": {
          "bt2": { "corec": [], "expr": { "expr": "Empty", "envs": {} } }
        },
        "env4": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "SubstVar" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   ((1 + (((size)[@env0 ]) (Node (3, Empty, Empty)))) +\n      ((1 + (((size)[@env1 ]) Empty)) + (((size)[@env3 ]) ((bt2)[@env2 ])))))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env2": {
          "bt2": { "corec": [], "expr": { "expr": "Empty", "envs": {} } }
        },
        "env3": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "SubstVar" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   ((1 + (((size)[@env0 ]) (Node (3, Empty, Empty)))) +\n      ((1 + (((size)[@env1 ]) Empty)) + (((size)[@env2 ]) Empty))))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env2": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "SubstFun" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   ((1 + (((size)[@env0 ]) (Node (3, Empty, Empty)))) +\n      ((1 + (((size)[@env1 ]) Empty)) +\n         (((fun bt ->\n              match bt with\n              | Empty -> 0\n              | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2))[@env2 ])\n            Empty))))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env2": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   ((1 + (((size)[@env0 ]) (Node (3, Empty, Empty)))) +\n      ((1 + (((size)[@env1 ]) Empty)) +\n         ((fun bt ->\n             ((match bt with\n               | Empty -> 0\n               | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2))\n             [@env2 ])) Empty))))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env2": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   ((1 + (((size)[@env0 ]) (Node (3, Empty, Empty)))) +\n      ((1 + (((size)[@env1 ]) Empty)) +\n         ((fun bt ->\n             match bt with\n             | Empty -> 0\n             | Node (_, bt1, bt2) -> (((1 + (size bt1)) + (size bt2))\n                 [@env2 ])) Empty))))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env2": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "ApplyFunComplete" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   ((1 + (((size)[@env0 ]) (Node (3, Empty, Empty)))) +\n      ((1 + (((size)[@env1 ]) Empty)) +\n         ((match bt with\n           | Empty -> 0\n           | Node (_, bt1, bt2) -> (((1 + (size bt1)) + (size bt2))[@env2 ]))\n         [@env3 ]))))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env2": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env3": {
          "bt": { "corec": [], "expr": { "expr": "Empty", "envs": {} } }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   ((1 + (((size)[@env0 ]) (Node (3, Empty, Empty)))) +\n      ((1 + (((size)[@env1 ]) Empty)) +\n         (match ((bt)[@env3 ]) with\n          | Empty -> 0\n          | Node (_, bt1, bt2) -> (((1 + (size bt1)) + (size bt2))[@env2 ])))))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env2": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env3": {
          "bt": { "corec": [], "expr": { "expr": "Empty", "envs": {} } }
        }
      }
    },
    "step": [ "SubstVar" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   ((1 + (((size)[@env0 ]) (Node (3, Empty, Empty)))) +\n      ((1 + (((size)[@env1 ]) Empty)) +\n         (match Empty with\n          | Empty -> 0\n          | Node (_, bt1, bt2) -> (((1 + (size bt1)) + (size bt2))[@env2 ])))))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env2": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "Match" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   ((1 + (((size)[@env0 ]) (Node (3, Empty, Empty)))) +\n      ((1 + (((size)[@env1 ]) Empty)) + 0)))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "SubstFun" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   ((1 + (((size)[@env0 ]) (Node (3, Empty, Empty)))) +\n      ((1 +\n          (((fun bt ->\n               match bt with\n               | Empty -> 0\n               | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2))\n             [@env1 ]) Empty))\n         + 0)))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   ((1 + (((size)[@env0 ]) (Node (3, Empty, Empty)))) +\n      ((1 +\n          ((fun bt ->\n              ((match bt with\n                | Empty -> 0\n                | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2))\n              [@env1 ])) Empty))\n         + 0)))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   ((1 + (((size)[@env0 ]) (Node (3, Empty, Empty)))) +\n      ((1 +\n          ((fun bt ->\n              match bt with\n              | Empty -> 0\n              | Node (_, bt1, bt2) -> (((1 + (size bt1)) + (size bt2))\n                  [@env1 ])) Empty))\n         + 0)))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "ApplyFunComplete" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   ((1 + (((size)[@env0 ]) (Node (3, Empty, Empty)))) +\n      ((1 +\n          ((match bt with\n            | Empty -> 0\n            | Node (_, bt1, bt2) -> (((1 + (size bt1)) + (size bt2))[@env1 ]))\n          [@env2 ]))\n         + 0)))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env2": {
          "bt": { "corec": [], "expr": { "expr": "Empty", "envs": {} } }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   ((1 + (((size)[@env0 ]) (Node (3, Empty, Empty)))) +\n      ((1 +\n          (match ((bt)[@env2 ]) with\n           | Empty -> 0\n           | Node (_, bt1, bt2) -> (((1 + (size bt1)) + (size bt2))[@env1 ])))\n         + 0)))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env2": {
          "bt": { "corec": [], "expr": { "expr": "Empty", "envs": {} } }
        }
      }
    },
    "step": [ "SubstVar" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   ((1 + (((size)[@env0 ]) (Node (3, Empty, Empty)))) +\n      ((1 +\n          (match Empty with\n           | Empty -> 0\n           | Node (_, bt1, bt2) -> (((1 + (size bt1)) + (size bt2))[@env1 ])))\n         + 0)))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "Match" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 + ((1 + (((size)[@env0 ]) (Node (3, Empty, Empty)))) + ((1 + 0) + 0))) + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "ApplyFunRuntime" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 + ((1 + (((size)[@env0 ]) (Node (3, Empty, Empty)))) + (1 + 0))) + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "ApplyFunRuntime" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 + ((1 + (((size)[@env0 ]) (Node (3, Empty, Empty)))) + 1)) + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "SubstFun" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   ((1 +\n       (((fun bt ->\n            match bt with\n            | Empty -> 0\n            | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2))[@env0 ])\n          (Node (3, Empty, Empty))))\n      + 1))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   ((1 +\n       ((fun bt ->\n           ((match bt with\n             | Empty -> 0\n             | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2))\n           [@env0 ])) (Node (3, Empty, Empty))))\n      + 1))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   ((1 +\n       ((fun bt ->\n           match bt with\n           | Empty -> 0\n           | Node (_, bt1, bt2) -> (((1 + (size bt1)) + (size bt2))[@env0 ]))\n          (Node (3, Empty, Empty))))\n      + 1))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "ApplyFunComplete" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   ((1 +\n       ((match bt with\n         | Empty -> 0\n         | Node (_, bt1, bt2) -> (((1 + (size bt1)) + (size bt2))[@env0 ]))\n       [@env1 ]))\n      + 1))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "bt": {
            "corec": [],
            "expr": { "expr": "Node (3, Empty, Empty)", "envs": {} }
          }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   ((1 +\n       (match ((bt)[@env1 ]) with\n        | Empty -> 0\n        | Node (_, bt1, bt2) -> (((1 + (size bt1)) + (size bt2))[@env0 ])))\n      + 1))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "bt": {
            "corec": [],
            "expr": { "expr": "Node (3, Empty, Empty)", "envs": {} }
          }
        }
      }
    },
    "step": [ "SubstVar" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   ((1 +\n       (match Node (3, Empty, Empty) with\n        | Empty -> 0\n        | Node (_, bt1, bt2) -> (((1 + (size bt1)) + (size bt2))[@env0 ])))\n      + 1))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "Match" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 + ((1 + (((1 + (size bt1)) + (size bt2))[@env1 ][@env0 ])) + 1)) + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "bt2": { "corec": [], "expr": { "expr": "Empty", "envs": {} } },
          "bt1": { "corec": [], "expr": { "expr": "Empty", "envs": {} } }
        }
      }
    },
    "step": [ "SubstCombine" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 + ((1 + (((1 + (size bt1)) + (size bt2))[@env0 ])) + 1)) + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          },
          "bt2": { "corec": [], "expr": { "expr": "Empty", "envs": {} } },
          "bt1": { "corec": [], "expr": { "expr": "Empty", "envs": {} } }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 + ((1 + (((1 + (size bt1))[@env0 ]) + ((size bt2)[@env1 ]))) + 1)) + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          },
          "bt1": { "corec": [], "expr": { "expr": "Empty", "envs": {} } }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          },
          "bt2": { "corec": [], "expr": { "expr": "Empty", "envs": {} } }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 + ((1 + ((1 + ((size bt1)[@env0 ])) + ((size bt2)[@env1 ]))) + 1)) + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          },
          "bt1": { "corec": [], "expr": { "expr": "Empty", "envs": {} } }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          },
          "bt2": { "corec": [], "expr": { "expr": "Empty", "envs": {} } }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   ((1 + ((1 + (((size)[@env1 ]) ((bt1)[@env0 ]))) + ((size bt2)[@env2 ]))) +\n      1))\n  + 2",
      "envs": {
        "env0": {
          "bt1": { "corec": [], "expr": { "expr": "Empty", "envs": {} } }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env2": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          },
          "bt2": { "corec": [], "expr": { "expr": "Empty", "envs": {} } }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   ((1 +\n       ((1 + (((size)[@env1 ]) ((bt1)[@env0 ]))) +\n          (((size)[@env3 ]) ((bt2)[@env2 ]))))\n      + 1))\n  + 2",
      "envs": {
        "env0": {
          "bt1": { "corec": [], "expr": { "expr": "Empty", "envs": {} } }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env2": {
          "bt2": { "corec": [], "expr": { "expr": "Empty", "envs": {} } }
        },
        "env3": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "SubstVar" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   ((1 +\n       ((1 + (((size)[@env0 ]) Empty)) + (((size)[@env2 ]) ((bt2)[@env1 ]))))\n      + 1))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "bt2": { "corec": [], "expr": { "expr": "Empty", "envs": {} } }
        },
        "env2": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "SubstVar" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 + ((1 + ((1 + (((size)[@env0 ]) Empty)) + (((size)[@env1 ]) Empty))) + 1))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "SubstFun" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   ((1 +\n       ((1 + (((size)[@env0 ]) Empty)) +\n          (((fun bt ->\n               match bt with\n               | Empty -> 0\n               | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2))\n             [@env1 ]) Empty)))\n      + 1))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   ((1 +\n       ((1 + (((size)[@env0 ]) Empty)) +\n          ((fun bt ->\n              ((match bt with\n                | Empty -> 0\n                | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2))\n              [@env1 ])) Empty)))\n      + 1))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   ((1 +\n       ((1 + (((size)[@env0 ]) Empty)) +\n          ((fun bt ->\n              match bt with\n              | Empty -> 0\n              | Node (_, bt1, bt2) -> (((1 + (size bt1)) + (size bt2))\n                  [@env1 ])) Empty)))\n      + 1))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "ApplyFunComplete" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   ((1 +\n       ((1 + (((size)[@env0 ]) Empty)) +\n          ((match bt with\n            | Empty -> 0\n            | Node (_, bt1, bt2) -> (((1 + (size bt1)) + (size bt2))[@env1 ]))\n          [@env2 ])))\n      + 1))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env2": {
          "bt": { "corec": [], "expr": { "expr": "Empty", "envs": {} } }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   ((1 +\n       ((1 + (((size)[@env0 ]) Empty)) +\n          (match ((bt)[@env2 ]) with\n           | Empty -> 0\n           | Node (_, bt1, bt2) -> (((1 + (size bt1)) + (size bt2))[@env1 ]))))\n      + 1))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env2": {
          "bt": { "corec": [], "expr": { "expr": "Empty", "envs": {} } }
        }
      }
    },
    "step": [ "SubstVar" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   ((1 +\n       ((1 + (((size)[@env0 ]) Empty)) +\n          (match Empty with\n           | Empty -> 0\n           | Node (_, bt1, bt2) -> (((1 + (size bt1)) + (size bt2))[@env1 ]))))\n      + 1))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "Match" ]
  },
  {
    "current_expression": {
      "expr": "(1 + ((1 + ((1 + (((size)[@env0 ]) Empty)) + 0)) + 1)) + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "SubstFun" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   ((1 +\n       ((1 +\n           (((fun bt ->\n                match bt with\n                | Empty -> 0\n                | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2))\n              [@env0 ]) Empty))\n          + 0))\n      + 1))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   ((1 +\n       ((1 +\n           ((fun bt ->\n               ((match bt with\n                 | Empty -> 0\n                 | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2))\n               [@env0 ])) Empty))\n          + 0))\n      + 1))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   ((1 +\n       ((1 +\n           ((fun bt ->\n               match bt with\n               | Empty -> 0\n               | Node (_, bt1, bt2) -> (((1 + (size bt1)) + (size bt2))\n                   [@env0 ])) Empty))\n          + 0))\n      + 1))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "ApplyFunComplete" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   ((1 +\n       ((1 +\n           ((match bt with\n             | Empty -> 0\n             | Node (_, bt1, bt2) -> (((1 + (size bt1)) + (size bt2))\n                 [@env0 ]))\n           [@env1 ]))\n          + 0))\n      + 1))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "bt": { "corec": [], "expr": { "expr": "Empty", "envs": {} } }
        }
      }
    },
    "step": [ "MoveDownSubst" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   ((1 +\n       ((1 +\n           (match ((bt)[@env1 ]) with\n            | Empty -> 0\n            | Node (_, bt1, bt2) -> (((1 + (size bt1)) + (size bt2))[@env0 ])))\n          + 0))\n      + 1))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        },
        "env1": {
          "bt": { "corec": [], "expr": { "expr": "Empty", "envs": {} } }
        }
      }
    },
    "step": [ "SubstVar" ]
  },
  {
    "current_expression": {
      "expr":
        "(1 +\n   ((1 +\n       ((1 +\n           (match Empty with\n            | Empty -> 0\n            | Node (_, bt1, bt2) -> (((1 + (size bt1)) + (size bt2))[@env0 ])))\n          + 0))\n      + 1))\n  + 2",
      "envs": {
        "env0": {
          "size": {
            "corec": [ "size" ],
            "expr": {
              "expr":
                "fun bt ->\n  match bt with\n  | Empty -> 0\n  | Node (_, bt1, bt2) -> (1 + (size bt1)) + (size bt2)",
              "envs": {}
            }
          }
        }
      }
    },
    "step": [ "Match" ]
  },
  {
    "current_expression": {
      "expr": "(1 + ((1 + ((1 + 0) + 0)) + 1)) + 2",
      "envs": {}
    },
    "step": [ "ApplyFunRuntime" ]
  },
  {
    "current_expression": {
      "expr": "(1 + ((1 + (1 + 0)) + 1)) + 2",
      "envs": {}
    },
    "step": [ "ApplyFunRuntime" ]
  },
  {
    "current_expression": { "expr": "(1 + ((1 + 1) + 1)) + 2", "envs": {} },
    "step": [ "ApplyFunRuntime" ]
  },
  {
    "current_expression": { "expr": "(1 + (2 + 1)) + 2", "envs": {} },
    "step": [ "ApplyFunRuntime" ]
  },
  {
    "current_expression": { "expr": "(1 + 3) + 2", "envs": {} },
    "step": [ "ApplyFunRuntime" ]
  },
  {
    "current_expression": { "expr": "4 + 2", "envs": {} },
    "step": [ "ApplyFunRuntime" ]
  },
  { "current_expression": { "expr": "6", "envs": {} }, "step": [] }
]